# ğŸ—ï¸ QIMy ERP - ĞŸĞĞ›ĞĞĞ¯ ĞĞ Ğ¥Ğ˜Ğ¢Ğ•ĞšĞ¢Ğ£Ğ ĞĞĞ¯ Ğ¡Ğ¥Ğ•ĞœĞ
**Ğ”Ğ°Ñ‚Ğ°:** 29 ÑĞ½Ğ²Ğ°Ñ€Ñ 2026
**Ğ’ĞµÑ€ÑĞ¸Ñ:** 2.0 (Ñ AI Foundation)
**Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ:** 50% Complete (Phase 1 âœ… Complete)

---

## ğŸ“ ĞĞ‘Ğ©ĞĞ¯ ĞĞ Ğ¥Ğ˜Ğ¢Ğ•ĞšĞ¢Ğ£Ğ Ğ Ğ¡Ğ˜Ğ¡Ğ¢Ğ•ĞœĞ«

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                         ğŸ¢ QIMy ERP - CLOUD ACCOUNTING SYSTEM                 â•‘
â•‘                   (SaaS Multi-Tenant Cloud-Native Architecture)              â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ğŸ‘¤ PRESENTATION LAYER (UI)                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚   QIMy.Web (Blazor)    â”‚        â”‚   QIMy.API (REST API)    â”‚            â”‚
â”‚  â”‚   PORT: 5204           â”‚        â”‚   PORT: 5000             â”‚            â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤            â”‚
â”‚  â”‚ Components/Pages/      â”‚        â”‚ Controllers/             â”‚            â”‚
â”‚  â”‚  â”œâ”€ AR/ (Kunden)       â”‚        â”‚  â”œâ”€ ClientsController   â”‚            â”‚
â”‚  â”‚  â”‚  â”œâ”€ Clients/        â”‚        â”‚  â”œâ”€ InvoicesController  â”‚            â”‚
â”‚  â”‚  â”‚  â””â”€ Invoices/       â”‚        â”‚  â”œâ”€ SuppliersController â”‚            â”‚
â”‚  â”‚  â”œâ”€ ER/ (Lieferanten)  â”‚        â”‚  â””â”€ ProductsController  â”‚            â”‚
â”‚  â”‚  â”‚  â”œâ”€ Suppliers/      â”‚        â”‚                          â”‚            â”‚
â”‚  â”‚  â”‚  â””â”€ ExpenseInv/     â”‚        â”‚ Swagger UI (API Docs)   â”‚            â”‚
â”‚  â”‚  â”œâ”€ Admin/             â”‚        â”‚                          â”‚            â”‚
â”‚  â”‚  â”‚  â”œâ”€ Products/       â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”¤ MediatR (CQRS)          â”‚            â”‚
â”‚  â”‚  â”‚  â”œâ”€ Accounts/       â”‚        â”‚ FluentValidation        â”‚            â”‚
â”‚  â”‚  â”‚  â””â”€ TaxRates/       â”‚        â”‚ AutoMapper              â”‚            â”‚
â”‚  â”‚  â”œâ”€ Reports/           â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚  â”‚  â”‚  â”œâ”€ FinalReport/    â”‚                                                 â”‚
â”‚  â”‚  â”‚  â””â”€ Dashboard/      â”‚                                                 â”‚
â”‚  â”‚  â”œâ”€ Tools/ (Utilities) â”‚                                                 â”‚
â”‚  â”‚  â”‚  â”œâ”€ PersonenIndex/  â”‚        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚  â”‚  â””â”€ Smart Import/   â”‚        â”‚   Authentication         â”‚            â”‚
â”‚  â”‚  â””â”€ Account/           â”‚        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤            â”‚
â”‚  â”‚     â”œâ”€ Login/          â”‚        â”‚ ASP.NET Identity         â”‚            â”‚
â”‚  â”‚     â””â”€ Register/       â”‚        â”‚ Cookie Authentication    â”‚            â”‚
â”‚  â”‚                        â”‚        â”‚ Azure AD Ready           â”‚            â”‚
â”‚  â”‚ Services/              â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚  â”‚  â”œâ”€ BusinessContext    â”‚                                                 â”‚
â”‚  â”‚  â””â”€ NavigationService  â”‚                                                 â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                 â”‚
â”‚                   â†“                                                          â”‚
â”‚              MediatR.Send(Command/Query)                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ğŸ¤– AI FOUNDATION LAYER (Phase 1 Complete âœ…)              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                            QIMy.AI (NEW!)                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Services/                                                               â”‚ â”‚
â”‚  â”‚  â”œâ”€ ğŸ§  IAiEncodingDetectionService                                     â”‚ â”‚
â”‚  â”‚  â”‚   â””â”€ Auto-detect CSV encoding (UTF-8, Windows-1252, etc.)          â”‚ â”‚
â”‚  â”‚  â”‚      â€¢ BOM detection                                                â”‚ â”‚
â”‚  â”‚  â”‚      â€¢ Statistical analysis                                         â”‚ â”‚
â”‚  â”‚  â”‚      â€¢ Confidence scoring (0.0-1.0)                                 â”‚ â”‚
â”‚  â”‚  â”‚      â€¢ Fallback strategies                                          â”‚ â”‚
â”‚  â”‚  â”‚                                                                      â”‚ â”‚
â”‚  â”‚  â”œâ”€ ğŸ¯ IAiColumnMappingService                                         â”‚ â”‚
â”‚  â”‚  â”‚   â””â”€ Smart CSV column â†’ Entity property mapping                    â”‚ â”‚
â”‚  â”‚  â”‚      â€¢ FuzzySharp matching (60+ aliases DE/EN)                     â”‚ â”‚
â”‚  â”‚  â”‚      â€¢ Confidence per field                                         â”‚ â”‚
â”‚  â”‚  â”‚      â€¢ Data type validation                                         â”‚ â”‚
â”‚  â”‚  â”‚      â€¢ Warning system for low confidence                            â”‚ â”‚
â”‚  â”‚  â”‚                                                                      â”‚ â”‚
â”‚  â”‚  â””â”€ ğŸ” IAiDuplicateDetectionService                                    â”‚ â”‚
â”‚  â”‚      â””â”€ Intelligent duplicate detection                                â”‚ â”‚
â”‚  â”‚         â€¢ Weighted field matching (VatNumber: 5x, Name: 3x, Email: 2x)â”‚ â”‚
â”‚  â”‚         â€¢ Fuzzy string matching                                        â”‚ â”‚
â”‚  â”‚         â€¢ 4 duplicate types: Exact, Fuzzy, Suspected, Possible        â”‚ â”‚
â”‚  â”‚         â€¢ Recommended actions: Block, Warn, Allow                     â”‚ â”‚
â”‚  â”‚                                                                         â”‚ â”‚
â”‚  â”‚ Package: FuzzySharp 2.0.2                                              â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    âš™ï¸ APPLICATION LAYER (Business Logic)                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                        QIMy.Application (CQRS)                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Common/                                                                 â”‚ â”‚
â”‚  â”‚  â”œâ”€ Interfaces/                                                         â”‚ â”‚
â”‚  â”‚  â”‚   â”œâ”€ IRepository<T>        â† Generic repository pattern            â”‚ â”‚
â”‚  â”‚  â”‚   â”œâ”€ IUnitOfWork           â† Transaction management                â”‚ â”‚
â”‚  â”‚  â”‚   â””â”€ ICacheService         â† Redis caching (future)                â”‚ â”‚
â”‚  â”‚  â”œâ”€ Behaviours/ (MediatR Pipeline)                                     â”‚ â”‚
â”‚  â”‚  â”‚   â”œâ”€ ValidationBehaviour    â† FluentValidation                     â”‚ â”‚
â”‚  â”‚  â”‚   â”œâ”€ LoggingBehaviour       â† Request/Response logging             â”‚ â”‚
â”‚  â”‚  â”‚   â””â”€ PerformanceBehaviour   â† Performance monitoring               â”‚ â”‚
â”‚  â”‚  â””â”€ Models/                                                            â”‚ â”‚
â”‚  â”‚      â”œâ”€ Result<T>              â† Result pattern (success/error)       â”‚ â”‚
â”‚  â”‚      â””â”€ ImportResult           â† CSV import results                   â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ CQRS Modules (Feature-based Organization):                             â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ âœ… Clients/                    âœ… Suppliers/                            â”‚ â”‚
â”‚  â”‚    â”œâ”€ Commands/                   â”œâ”€ Commands/                         â”‚ â”‚
â”‚  â”‚    â”‚  â”œâ”€ CreateClient/            â”‚  â””â”€ ImportSuppliers/               â”‚ â”‚
â”‚  â”‚    â”‚  â”‚  â”œâ”€ Command               â”‚                                    â”‚ â”‚
â”‚  â”‚    â”‚  â”‚  â”œâ”€ Handler              â”‚  â”œâ”€ Queries/                        â”‚ â”‚
â”‚  â”‚    â”‚  â”‚  â””â”€ Validator            â”‚  â”‚  â””â”€ GetAllSuppliers/             â”‚ â”‚
â”‚  â”‚    â”‚  â”œâ”€ UpdateClient/           â”‚  â”‚                                   â”‚ â”‚
â”‚  â”‚    â”‚  â”œâ”€ DeleteClient/           â”‚  â””â”€ DTOs/                            â”‚ â”‚
â”‚  â”‚    â”‚  â””â”€ ImportClients/          â”‚     â””â”€ SupplierDto                  â”‚ â”‚
â”‚  â”‚    â”‚     (with AI Encoding âœ…)   â”‚                                      â”‚ â”‚
â”‚  â”‚    â”œâ”€ Queries/                   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚    â”‚  â”œâ”€ GetAllClients/          â”‚ âœ… Invoices/ (AR - Ausgangsrech.)  â”‚ â”‚
â”‚  â”‚    â”‚  â”œâ”€ GetClientById/          â”‚    â”œâ”€ Commands/                     â”‚ â”‚
â”‚  â”‚    â”‚  â””â”€ GetClientByCode/        â”‚    â”‚  â”œâ”€ CreateInvoice/            â”‚ â”‚
â”‚  â”‚    â””â”€ DTOs/                      â”‚    â”‚  â”œâ”€ UpdateInvoice/             â”‚ â”‚
â”‚  â”‚       â”œâ”€ ClientDto                â”‚    â”‚  â”œâ”€ DeleteInvoice/            â”‚ â”‚
â”‚  â”‚       â”œâ”€ CreateClientDto         â”‚    â”‚  â””â”€ FinalizeInvoice/           â”‚ â”‚
â”‚  â”‚       â””â”€ UpdateClientDto         â”‚    â”œâ”€ Queries/                      â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚  â”œâ”€ GetAllInvoices/             â”‚ â”‚
â”‚  â”‚ âœ… Products/                     â”‚    â”‚  â””â”€ GetInvoiceById/             â”‚ â”‚
â”‚  â”‚    â”œâ”€ Commands/                 â”‚    â””â”€ DTOs/                           â”‚ â”‚
â”‚  â”‚    â”‚  â”œâ”€ CreateProduct/         â”‚       â””â”€ InvoiceDto                  â”‚ â”‚
â”‚  â”‚    â”‚  â”œâ”€ UpdateProduct/         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚    â”‚  â””â”€ DeleteProduct/         â”‚ âœ… TaxRates/                         â”‚ â”‚
â”‚  â”‚    â”œâ”€ Queries/                  â”‚    â”œâ”€ Commands/                      â”‚ â”‚
â”‚  â”‚    â”‚  â”œâ”€ GetAllProducts/        â”‚    â”‚  â”œâ”€ CreateTaxRate/             â”‚ â”‚
â”‚  â”‚    â”‚  â””â”€ GetProductById/        â”‚    â”‚  â””â”€ UpdateTaxRate/             â”‚ â”‚
â”‚  â”‚    â””â”€ DTOs/                     â”‚    â”œâ”€ Queries/                       â”‚ â”‚
â”‚  â”‚       â””â”€ ProductDto              â”‚    â”‚  â””â”€ GetAllTaxRates/            â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â””â”€ DTOs/                          â”‚ â”‚
â”‚  â”‚ âœ… Accounts/ (Sachkonten)       â”‚       â””â”€ TaxRateDto                  â”‚ â”‚
â”‚  â”‚    â”œâ”€ Commands/                 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚    â”‚  â”œâ”€ CreateAccount/         â”‚ âœ… Businesses/ (Multi-tenancy)       â”‚ â”‚
â”‚  â”‚    â”‚  â””â”€ UpdateAccount/         â”‚    â”œâ”€ Commands/                      â”‚ â”‚
â”‚  â”‚    â”œâ”€ Queries/                  â”‚    â”‚  â”œâ”€ CreateBusiness/            â”‚ â”‚
â”‚  â”‚    â”‚  â””â”€ GetAllAccounts/        â”‚    â”‚  â””â”€ UpdateBusiness/            â”‚ â”‚
â”‚  â”‚    â””â”€ DTOs/                     â”‚    â”œâ”€ Queries/                       â”‚ â”‚
â”‚  â”‚       â””â”€ AccountDto              â”‚    â”‚  â””â”€ GetAllBusinesses/          â”‚ â”‚
â”‚  â”‚                                  â”‚    â””â”€ DTOs/                          â”‚ â”‚
â”‚  â”‚ Mapping Profiles/                â”‚       â””â”€ BusinessDto                â”‚ â”‚
â”‚  â”‚  â””â”€ AutoMapper configurations   â”‚                                      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   ğŸ’¾ INFRASTRUCTURE LAYER (Data & Services)                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                       QIMy.Infrastructure                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Data/                                                                   â”‚ â”‚
â”‚  â”‚  â”œâ”€ ApplicationDbContext (EF Core)                                     â”‚ â”‚
â”‚  â”‚  â”‚   â”œâ”€ DbSet<Client>                                                  â”‚ â”‚
â”‚  â”‚  â”‚   â”œâ”€ DbSet<Invoice>                                                 â”‚ â”‚
â”‚  â”‚  â”‚   â”œâ”€ DbSet<Supplier>                                                â”‚ â”‚
â”‚  â”‚  â”‚   â”œâ”€ DbSet<Product>                                                 â”‚ â”‚
â”‚  â”‚  â”‚   â”œâ”€ DbSet<TaxRate>                                                 â”‚ â”‚
â”‚  â”‚  â”‚   â”œâ”€ DbSet<Account>                                                 â”‚ â”‚
â”‚  â”‚  â”‚   â”œâ”€ DbSet<PersonenIndexEntry> â˜… NEW                               â”‚ â”‚
â”‚  â”‚  â”‚   â””â”€ ... (22 entities total)                                       â”‚ â”‚
â”‚  â”‚  â”‚                                                                      â”‚ â”‚
â”‚  â”‚  â”œâ”€ Configurations/ (Fluent API)                                       â”‚ â”‚
â”‚  â”‚  â”‚   â”œâ”€ ClientConfiguration                                            â”‚ â”‚
â”‚  â”‚  â”‚   â”œâ”€ InvoiceConfiguration                                           â”‚ â”‚
â”‚  â”‚  â”‚   â””â”€ ... (entity configurations)                                    â”‚ â”‚
â”‚  â”‚  â”‚                                                                      â”‚ â”‚
â”‚  â”‚  â”œâ”€ Migrations/                                                        â”‚ â”‚
â”‚  â”‚  â”‚   â”œâ”€ 20260124_PersonenIndex_ER_AR_Links â˜…                          â”‚ â”‚
â”‚  â”‚  â”‚   â”œâ”€ 20260125_InvoiceTypes_AustrianTax â˜…                           â”‚ â”‚
â”‚  â”‚  â”‚   â””â”€ ... (28 migrations)                                            â”‚ â”‚
â”‚  â”‚  â”‚                                                                      â”‚ â”‚
â”‚  â”‚  â””â”€ Repositories/ (Implementation)                                     â”‚ â”‚
â”‚  â”‚      â”œâ”€ Repository<T>          â† Generic implementation               â”‚ â”‚
â”‚  â”‚      â”œâ”€ UnitOfWork              â† Transaction coordination            â”‚ â”‚
â”‚  â”‚      â”œâ”€ ClientRepository        â† Specialized queries                 â”‚ â”‚
â”‚  â”‚      â”œâ”€ InvoiceRepository       â† With Include() optimization         â”‚ â”‚
â”‚  â”‚      â””â”€ ... (22 repositories)                                          â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ Services/ (External integrations & Business logic)                     â”‚ â”‚
â”‚  â”‚  â”œâ”€ ğŸŒ ViesService               â† EU VAT validation                  â”‚ â”‚
â”‚  â”‚  â”‚   â””â”€ ValidateVatAsync()       (API: ec.europa.eu/taxation_customs) â”‚ â”‚
â”‚  â”‚  â”‚                                                                      â”‚ â”‚
â”‚  â”‚  â”œâ”€ ğŸ“„ BmdInvoiceImportService   â† BMD NTCS format import â˜…           â”‚ â”‚
â”‚  â”‚  â”‚   â””â”€ ImportFromCsvAsync()     (German format: dd.MM.yyyy, comma)   â”‚ â”‚
â”‚  â”‚  â”‚                                                                      â”‚ â”‚
â”‚  â”‚  â”œâ”€ ğŸ“Š FinalReportService         â† BMD NTCS CSV export â˜…             â”‚ â”‚
â”‚  â”‚  â”‚   â”œâ”€ GenerateFinalReportCsvAsync() (29 BMD fields)                â”‚ â”‚
â”‚  â”‚  â”‚   â””â”€ Tax code mapping (InvoiceType â†’ Steuercode)                   â”‚ â”‚
â”‚  â”‚  â”‚                                                                      â”‚ â”‚
â”‚  â”‚  â”œâ”€ ğŸ“‹ ClientExportService        â† Client list export                â”‚ â”‚
â”‚  â”‚  â”‚   â””â”€ ExportToExcelAsync()                                           â”‚ â”‚
â”‚  â”‚  â”‚                                                                      â”‚ â”‚
â”‚  â”‚  â”œâ”€ ğŸ¢ ClientService              â† Client business logic             â”‚ â”‚
â”‚  â”‚  â”‚   â”œâ”€ GenerateNextClientCodeAsync()                                 â”‚ â”‚
â”‚  â”‚  â”‚   â”œâ”€ GetAllClientsAsync()                                           â”‚ â”‚
â”‚  â”‚  â”‚   â””â”€ ValidateClientAsync()                                          â”‚ â”‚
â”‚  â”‚  â”‚                                                                      â”‚ â”‚
â”‚  â”‚  â”œâ”€ ğŸ“‘ InvoiceService             â† Invoice business logic            â”‚ â”‚
â”‚  â”‚  â”‚   â”œâ”€ CalculateTotalsAsync()                                        â”‚ â”‚
â”‚  â”‚  â”‚   â”œâ”€ GenerateInvoiceNumberAsync()                                  â”‚ â”‚
â”‚  â”‚  â”‚   â””â”€ FinalizeInvoiceAsync()                                         â”‚ â”‚
â”‚  â”‚  â”‚                                                                      â”‚ â”‚
â”‚  â”‚  â”œâ”€ ğŸ§® AustrianTaxEngine          â† Austrian tax calculation â˜…        â”‚ â”‚
â”‚  â”‚  â”‚   â”œâ”€ CalculateTax()            (5 invoice types)                   â”‚ â”‚
â”‚  â”‚  â”‚   â”œâ”€ Domestic (20%)            InvoiceType.Domestic                â”‚ â”‚
â”‚  â”‚  â”‚   â”œâ”€ Export (0%)               InvoiceType.Export                  â”‚ â”‚
â”‚  â”‚  â”‚   â”œâ”€ IntraEU (0%)              InvoiceType.IntraEUSale             â”‚ â”‚
â”‚  â”‚  â”‚   â”œâ”€ ReverseCharge (0%)        InvoiceType.ReverseCharge           â”‚ â”‚
â”‚  â”‚  â”‚   â””â”€ SmallBusiness (0%)        InvoiceType.SmallBusinessExemption  â”‚ â”‚
â”‚  â”‚  â”‚                                                                      â”‚ â”‚
â”‚  â”‚  â”œâ”€ ğŸ“„ AustrianInvoicePdfService  â† PDF generation (QuestPDF) â˜…       â”‚ â”‚
â”‚  â”‚  â”‚   â””â”€ GenerateInvoicePdfAsync() (Template per invoice type)        â”‚ â”‚
â”‚  â”‚  â”‚                                                                      â”‚ â”‚
â”‚  â”‚  â””â”€ ğŸ”¢ NumberingService           â† Invoice numbering                 â”‚ â”‚
â”‚  â”‚      â”œâ”€ Format: AR{YYYY}{MM}{NNNN}                                    â”‚ â”‚
â”‚  â”‚      â””â”€ Example: AR2026010001                                          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ğŸ—‚ï¸ DOMAIN LAYER (Core Entities)                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                            QIMy.Core                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Entities/ (22 Domain Models) - All inherit from BaseEntity              â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚                                                                          â”‚ â”‚
â”‚  â”‚ ğŸ“Š BaseEntity (Abstract)                                                 â”‚ â”‚
â”‚  â”‚  â”œâ”€ int Id                   (Primary Key)                             â”‚ â”‚
â”‚  â”‚  â”œâ”€ DateTime CreatedAt        (Audit trail)                            â”‚ â”‚
â”‚  â”‚  â”œâ”€ DateTime UpdatedAt        (Audit trail)                            â”‚ â”‚
â”‚  â”‚  â””â”€ bool IsDeleted            (Soft delete)                            â”‚ â”‚
â”‚  â”‚                                                                          â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ ğŸ‘¥ AR (Ausgangsrechnungen - Outgoing Invoices / Clients)               â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚                                                                          â”‚ â”‚
â”‚  â”‚  ğŸ¢ Client                                  [200000-299999]             â”‚ â”‚
â”‚  â”‚    â”œâ”€ int BusinessId          â† FK to Business (multi-tenancy)        â”‚ â”‚
â”‚  â”‚    â”œâ”€ int ClientCode          â† Unique client number                  â”‚ â”‚
â”‚  â”‚    â”œâ”€ string CompanyName      â† Company name                          â”‚ â”‚
â”‚  â”‚    â”œâ”€ string? ContactPerson                                            â”‚ â”‚
â”‚  â”‚    â”œâ”€ string? Email                                                    â”‚ â”‚
â”‚  â”‚    â”œâ”€ string? Phone                                                    â”‚ â”‚
â”‚  â”‚    â”œâ”€ string? Address                                                  â”‚ â”‚
â”‚  â”‚    â”œâ”€ string? City                                                     â”‚ â”‚
â”‚  â”‚    â”œâ”€ string? PostalCode                                               â”‚ â”‚
â”‚  â”‚    â”œâ”€ string? Country                                                  â”‚ â”‚
â”‚  â”‚    â”œâ”€ string? VatNumber       â† EU VAT (VIES validated)               â”‚ â”‚
â”‚  â”‚    â”œâ”€ string? TaxNumber                                                â”‚ â”‚
â”‚  â”‚    â”œâ”€ string? BankAccount                                              â”‚ â”‚
â”‚  â”‚    â”œâ”€ int? ClientTypeId       â† FK (deprecated)                       â”‚ â”‚
â”‚  â”‚    â”œâ”€ ClientArea? ClientArea  â† Enum: Inland, EU, Drittland           â”‚ â”‚
â”‚  â”‚    â”œâ”€ int? PersonenIndexEntryId â† FK to PersonenIndexEntry â˜…          â”‚ â”‚
â”‚  â”‚    â”œâ”€ ICollection<Invoice>    â† Navigation property                   â”‚ â”‚
â”‚  â”‚    â””â”€ PersonenIndexEntry?     â† Navigation property â˜…                 â”‚ â”‚
â”‚  â”‚                                                                          â”‚ â”‚
â”‚  â”‚  ğŸ“„ Invoice                    (AR Document)                            â”‚ â”‚
â”‚  â”‚    â”œâ”€ int BusinessId          â† FK to Business                        â”‚ â”‚
â”‚  â”‚    â”œâ”€ int ClientId            â† FK to Client                          â”‚ â”‚
â”‚  â”‚    â”œâ”€ string InvoiceNumber    â† AR2026010001                          â”‚ â”‚
â”‚  â”‚    â”œâ”€ DateTime InvoiceDate                                             â”‚ â”‚
â”‚  â”‚    â”œâ”€ DateTime? DueDate                                                â”‚ â”‚
â”‚  â”‚    â”œâ”€ InvoiceType InvoiceType â† 0-5 (Domestic, Export, etc.) â˜…       â”‚ â”‚
â”‚  â”‚    â”œâ”€ decimal SubTotal                                                 â”‚ â”‚
â”‚  â”‚    â”œâ”€ decimal TaxAmount                                                â”‚ â”‚
â”‚  â”‚    â”œâ”€ decimal TotalAmount                                              â”‚ â”‚
â”‚  â”‚    â”œâ”€ string? Notes                                                    â”‚ â”‚
â”‚  â”‚    â”œâ”€ bool IsPaid                                                      â”‚ â”‚
â”‚  â”‚    â”œâ”€ bool IsReverseCharge    â† Umkehrung der Steuerschuld â˜…         â”‚ â”‚
â”‚  â”‚    â”œâ”€ bool IsSmallBusinessExemption â† Kleinunternehmer â˜…              â”‚ â”‚
â”‚  â”‚    â”œâ”€ bool IsTaxFreeExport    â† Steuerfreie Ausfuhr â˜…                â”‚ â”‚
â”‚  â”‚    â”œâ”€ bool IsIntraEUSale      â† Innergemeinschaftliche Lieferung â˜…   â”‚ â”‚
â”‚  â”‚    â”œâ”€ int? CurrencyId         â† FK to Currency                        â”‚ â”‚
â”‚  â”‚    â”œâ”€ int? PersonenIndexEntryId â† FK to PersonenIndexEntry â˜…          â”‚ â”‚
â”‚  â”‚    â”œâ”€ Client Client            â† Navigation property                  â”‚ â”‚
â”‚  â”‚    â”œâ”€ Currency? Currency       â† Navigation property                  â”‚ â”‚
â”‚  â”‚    â”œâ”€ PersonenIndexEntry?     â† Navigation property â˜…                 â”‚ â”‚
â”‚  â”‚    â””â”€ ICollection<InvoiceItem> â† Line items                           â”‚ â”‚
â”‚  â”‚                                                                          â”‚ â”‚
â”‚  â”‚  ğŸ“‹ InvoiceItem                (Line item)                              â”‚ â”‚
â”‚  â”‚    â”œâ”€ int InvoiceId           â† FK to Invoice                         â”‚ â”‚
â”‚  â”‚    â”œâ”€ int? ProductId          â† FK to Product                         â”‚ â”‚
â”‚  â”‚    â”œâ”€ string Description                                               â”‚ â”‚
â”‚  â”‚    â”œâ”€ int Quantity                                                     â”‚ â”‚
â”‚  â”‚    â”œâ”€ decimal UnitPrice                                                â”‚ â”‚
â”‚  â”‚    â”œâ”€ decimal TotalPrice                                               â”‚ â”‚
â”‚  â”‚    â”œâ”€ int? TaxId              â† FK to Tax                             â”‚ â”‚
â”‚  â”‚    â”œâ”€ decimal? DiscountPercent                                         â”‚ â”‚
â”‚  â”‚    â””â”€ decimal TaxAmount                                                â”‚ â”‚
â”‚  â”‚                                                                          â”‚ â”‚
â”‚  â”‚  ğŸ InvoiceDiscount           (Invoice-level discount)                 â”‚ â”‚
â”‚  â”‚    â”œâ”€ int InvoiceId           â† FK to Invoice                         â”‚ â”‚
â”‚  â”‚    â”œâ”€ decimal DiscountPercent                                          â”‚ â”‚
â”‚  â”‚    â””â”€ decimal DiscountAmount                                           â”‚ â”‚
â”‚  â”‚                                                                          â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ ğŸ“¥ ER (Eingangsrechnungen - Incoming Invoices / Suppliers)             â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚                                                                          â”‚ â”‚
â”‚  â”‚  ğŸ­ Supplier                                [300000-399999]             â”‚ â”‚
â”‚  â”‚    â”œâ”€ int BusinessId          â† FK to Business                        â”‚ â”‚
â”‚  â”‚    â”œâ”€ int SupplierCode        â† Unique supplier number                â”‚ â”‚
â”‚  â”‚    â”œâ”€ string CompanyName                                               â”‚ â”‚
â”‚  â”‚    â”œâ”€ string? ContactPerson                                            â”‚ â”‚
â”‚  â”‚    â”œâ”€ string? Email                                                    â”‚ â”‚
â”‚  â”‚    â”œâ”€ string? Phone                                                    â”‚ â”‚
â”‚  â”‚    â”œâ”€ string? Address                                                  â”‚ â”‚
â”‚  â”‚    â”œâ”€ string? City                                                     â”‚ â”‚
â”‚  â”‚    â”œâ”€ string? PostalCode                                               â”‚ â”‚
â”‚  â”‚    â”œâ”€ string? Country                                                  â”‚ â”‚
â”‚  â”‚    â”œâ”€ string? VatNumber       â† EU VAT                                â”‚ â”‚
â”‚  â”‚    â”œâ”€ string? TaxNumber                                                â”‚ â”‚
â”‚  â”‚    â”œâ”€ string? BankAccount                                              â”‚ â”‚
â”‚  â”‚    â””â”€ ICollection<ExpenseInvoice>                                      â”‚ â”‚
â”‚  â”‚                                                                          â”‚ â”‚
â”‚  â”‚  ğŸ“„ ExpenseInvoice             (ER Document)                            â”‚ â”‚
â”‚  â”‚    â”œâ”€ int BusinessId          â† FK to Business                        â”‚ â”‚
â”‚  â”‚    â”œâ”€ int SupplierId          â† FK to Supplier                        â”‚ â”‚
â”‚  â”‚    â”œâ”€ string InvoiceNumber    â† ER2026010001                          â”‚ â”‚
â”‚  â”‚    â”œâ”€ DateTime InvoiceDate                                             â”‚ â”‚
â”‚  â”‚    â”œâ”€ DateTime? DueDate                                                â”‚ â”‚
â”‚  â”‚    â”œâ”€ decimal SubTotal                                                 â”‚ â”‚
â”‚  â”‚    â”œâ”€ decimal TaxAmount                                                â”‚ â”‚
â”‚  â”‚    â”œâ”€ decimal TotalAmount                                              â”‚ â”‚
â”‚  â”‚    â”œâ”€ bool IsPaid                                                      â”‚ â”‚
â”‚  â”‚    â”œâ”€ int? PersonenIndexEntryId â† FK to PersonenIndexEntry â˜…          â”‚ â”‚
â”‚  â”‚    â”œâ”€ Supplier Supplier        â† Navigation property                  â”‚ â”‚
â”‚  â”‚    â”œâ”€ PersonenIndexEntry?     â† Navigation property â˜…                 â”‚ â”‚
â”‚  â”‚    â””â”€ ICollection<ExpenseInvoiceItem>                                  â”‚ â”‚
â”‚  â”‚                                                                          â”‚ â”‚
â”‚  â”‚  ğŸ“‹ ExpenseInvoiceItem         (Line item)                              â”‚ â”‚
â”‚  â”‚    â”œâ”€ int ExpenseInvoiceId    â† FK to ExpenseInvoice                 â”‚ â”‚
â”‚  â”‚    â”œâ”€ string Description                                               â”‚ â”‚
â”‚  â”‚    â”œâ”€ int Quantity                                                     â”‚ â”‚
â”‚  â”‚    â”œâ”€ decimal UnitPrice                                                â”‚ â”‚
â”‚  â”‚    â”œâ”€ decimal TotalPrice                                               â”‚ â”‚
â”‚  â”‚    â””â”€ int? TaxId              â† FK to Tax                             â”‚ â”‚
â”‚  â”‚                                                                          â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ â­ PersonenIndex (Central Registry) â˜… NEW                              â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚                                                                          â”‚ â”‚
â”‚  â”‚  ğŸ‘¥ PersonenIndexEntry         (Star Schema Center) â˜…                   â”‚ â”‚
â”‚  â”‚    â”œâ”€ int BusinessId          â† FK to Business                        â”‚ â”‚
â”‚  â”‚    â”œâ”€ int Code                â† Universal code (200k/300k range)      â”‚ â”‚
â”‚  â”‚    â”œâ”€ PersonType Type         â† Enum: Client, Supplier, Both          â”‚ â”‚
â”‚  â”‚    â”œâ”€ string CompanyName      â† Single source of truth                â”‚ â”‚
â”‚  â”‚    â”œâ”€ string? ContactPerson                                            â”‚ â”‚
â”‚  â”‚    â”œâ”€ string? Email                                                    â”‚ â”‚
â”‚  â”‚    â”œâ”€ string? Phone                                                    â”‚ â”‚
â”‚  â”‚    â”œâ”€ string? Address         â† SSoT for address                      â”‚ â”‚
â”‚  â”‚    â”œâ”€ string? City                                                     â”‚ â”‚
â”‚  â”‚    â”œâ”€ string? PostalCode                                               â”‚ â”‚
â”‚  â”‚    â”œâ”€ string? Country                                                  â”‚ â”‚
â”‚  â”‚    â”œâ”€ string? VatNumber                                                â”‚ â”‚
â”‚  â”‚    â”œâ”€ string? TaxNumber                                                â”‚ â”‚
â”‚  â”‚    â”œâ”€ string? BankAccount                                              â”‚ â”‚
â”‚  â”‚    â”œâ”€ ClientArea? ClientArea  â† Enum                                  â”‚ â”‚
â”‚  â”‚    â”œâ”€ bool IsActive                                                    â”‚ â”‚
â”‚  â”‚    â”œâ”€ ICollection<Invoice>    â† AR documents                          â”‚ â”‚
â”‚  â”‚    â””â”€ ICollection<ExpenseInvoice> â† ER documents                      â”‚ â”‚
â”‚  â”‚                                                                          â”‚ â”‚
â”‚  â”‚  Enum PersonType: Client = 1, Supplier = 2, Both = 3                  â”‚ â”‚
â”‚  â”‚                                                                          â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ ğŸ“¦ Products & Services                                                  â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚                                                                          â”‚ â”‚
â”‚  â”‚  ğŸ“¦ Product                                                              â”‚ â”‚
â”‚  â”‚    â”œâ”€ int? BusinessId         â† FK to Business (nullable for shared)  â”‚ â”‚
â”‚  â”‚    â”œâ”€ string SKU              â† Stock Keeping Unit                    â”‚ â”‚
â”‚  â”‚    â”œâ”€ string Name                                                      â”‚ â”‚
â”‚  â”‚    â”œâ”€ string? Description                                              â”‚ â”‚
â”‚  â”‚    â”œâ”€ decimal Price                                                    â”‚ â”‚
â”‚  â”‚    â”œâ”€ int? UnitId             â† FK to Unit                            â”‚ â”‚
â”‚  â”‚    â”œâ”€ int? TaxRateId          â† FK to TaxRate                         â”‚ â”‚
â”‚  â”‚    â”œâ”€ bool IsService          â† true = Service, false = Product       â”‚ â”‚
â”‚  â”‚    â””â”€ int StockQuantity       â† Inventory level                       â”‚ â”‚
â”‚  â”‚                                                                          â”‚ â”‚
â”‚  â”‚  ğŸ“ Unit                       (Measurement units)                      â”‚ â”‚
â”‚  â”‚    â”œâ”€ string Name             â† "StÃ¼ck", "kg", "Stunde"               â”‚ â”‚
â”‚  â”‚    â””â”€ string? Abbreviation    â† "Stk", "kg", "h"                      â”‚ â”‚
â”‚  â”‚                                                                          â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ ğŸ§¾ Reference Data (Master Data)                                         â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚                                                                          â”‚ â”‚
â”‚  â”‚  ğŸ¢ Business                   (Multi-tenancy)                          â”‚ â”‚
â”‚  â”‚    â”œâ”€ string Name             â† Company name                          â”‚ â”‚
â”‚  â”‚    â”œâ”€ string? Address                                                  â”‚ â”‚
â”‚  â”‚    â”œâ”€ string? City                                                     â”‚ â”‚
â”‚  â”‚    â”œâ”€ string? PostalCode                                               â”‚ â”‚
â”‚  â”‚    â”œâ”€ string? Country                                                  â”‚ â”‚
â”‚  â”‚    â”œâ”€ string? VatNumber       â† Own VAT number                        â”‚ â”‚
â”‚  â”‚    â”œâ”€ string? TaxNumber                                                â”‚ â”‚
â”‚  â”‚    â””â”€ string? BankAccount                                              â”‚ â”‚
â”‚  â”‚                                                                          â”‚ â”‚
â”‚  â”‚  ğŸ’° Currency                                                            â”‚ â”‚
â”‚  â”‚    â”œâ”€ string Code             â† "EUR", "USD", "CHF"                   â”‚ â”‚
â”‚  â”‚    â”œâ”€ string Name             â† "Euro", "US Dollar"                   â”‚ â”‚
â”‚  â”‚    â”œâ”€ string Symbol           â† "â‚¬", "$", "CHF"                       â”‚ â”‚
â”‚  â”‚    â””â”€ decimal ExchangeRate    â† Rate to base currency                 â”‚ â”‚
â”‚  â”‚                                                                          â”‚ â”‚
â”‚  â”‚  ğŸ§® TaxRate                    (VAT rates)                              â”‚ â”‚
â”‚  â”‚    â”œâ”€ string Name             â† "Standard 20%", "Reduced 10%"         â”‚ â”‚
â”‚  â”‚    â”œâ”€ decimal Rate            â† 0.20, 0.10, 0.00                      â”‚ â”‚
â”‚  â”‚    â””â”€ bool IsDefault                                                   â”‚ â”‚
â”‚  â”‚                                                                          â”‚ â”‚
â”‚  â”‚  ğŸ“Š Tax                        (Tax master table)                       â”‚ â”‚
â”‚  â”‚    â”œâ”€ int BusinessId          â† FK to Business                        â”‚ â”‚
â”‚  â”‚    â”œâ”€ string Name             â† "USt 20%"                             â”‚ â”‚
â”‚  â”‚    â”œâ”€ decimal Rate            â† 0.20                                   â”‚ â”‚
â”‚  â”‚    â”œâ”€ int? AccountId          â† FK to Account (for posting)           â”‚ â”‚
â”‚  â”‚    â””â”€ bool IsActive                                                    â”‚ â”‚
â”‚  â”‚                                                                          â”‚ â”‚
â”‚  â”‚  ğŸ“’ Account                    (Chart of Accounts - Sachkonten)        â”‚ â”‚
â”‚  â”‚    â”œâ”€ int BusinessId          â† FK to Business                        â”‚ â”‚
â”‚  â”‚    â”œâ”€ string AccountNumber    â† "4113", "1000", "3000"                â”‚ â”‚
â”‚  â”‚    â”œâ”€ string Name             â† "ErlÃ¶se Inland 20%"                   â”‚ â”‚
â”‚  â”‚    â”œâ”€ AccountType Type        â† Enum: Asset, Liability, Revenue, etc.â”‚ â”‚
â”‚  â”‚    â””â”€ bool IsActive                                                    â”‚ â”‚
â”‚  â”‚                                                                          â”‚ â”‚
â”‚  â”‚  ğŸ¦ BankAccount                                                          â”‚ â”‚
â”‚  â”‚    â”œâ”€ int BusinessId          â† FK to Business                        â”‚ â”‚
â”‚  â”‚    â”œâ”€ string BankName                                                  â”‚ â”‚
â”‚  â”‚    â”œâ”€ string AccountNumber                                             â”‚ â”‚
â”‚  â”‚    â”œâ”€ string IBAN                                                      â”‚ â”‚
â”‚  â”‚    â””â”€ string? BIC                                                      â”‚ â”‚
â”‚  â”‚                                                                          â”‚ â”‚
â”‚  â”‚  ğŸ’³ PaymentMethod                                                        â”‚ â”‚
â”‚  â”‚    â”œâ”€ string Name             â† "Cash", "Bank Transfer", "Card"       â”‚ â”‚
â”‚  â”‚    â””â”€ bool IsActive                                                    â”‚ â”‚
â”‚  â”‚                                                                          â”‚ â”‚
â”‚  â”‚  ğŸ Discount                                                             â”‚ â”‚
â”‚  â”‚    â”œâ”€ string Name                                                      â”‚ â”‚
â”‚  â”‚    â”œâ”€ decimal Percentage                                               â”‚ â”‚
â”‚  â”‚    â””â”€ bool IsActive                                                    â”‚ â”‚
â”‚  â”‚                                                                          â”‚ â”‚
â”‚  â”‚  ğŸ’¸ Payment                    (Payment records)                        â”‚ â”‚
â”‚  â”‚    â”œâ”€ int? InvoiceId          â† FK to Invoice (nullable)              â”‚ â”‚
â”‚  â”‚    â”œâ”€ int? ExpenseInvoiceId   â† FK to ExpenseInvoice (nullable)       â”‚ â”‚
â”‚  â”‚    â”œâ”€ DateTime PaymentDate                                             â”‚ â”‚
â”‚  â”‚    â”œâ”€ decimal Amount                                                   â”‚ â”‚
â”‚  â”‚    â”œâ”€ int PaymentMethodId     â† FK to PaymentMethod                   â”‚ â”‚
â”‚  â”‚    â””â”€ string? Reference                                                â”‚ â”‚
â”‚  â”‚                                                                          â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ ğŸ” Authentication                                                        â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚                                                                          â”‚ â”‚
â”‚  â”‚  ğŸ‘¤ AppUser                    (ASP.NET Identity)                       â”‚ â”‚
â”‚  â”‚    â”œâ”€ string Email            â† Unique identifier                     â”‚ â”‚
â”‚  â”‚    â”œâ”€ string UserName                                                  â”‚ â”‚
â”‚  â”‚    â”œâ”€ string PasswordHash     â† Hashed password                       â”‚ â”‚
â”‚  â”‚    â”œâ”€ int? BusinessId         â† FK to Business (tenant isolation)     â”‚ â”‚
â”‚  â”‚    â””â”€ bool IsActive                                                    â”‚ â”‚
â”‚  â”‚                                                                          â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ ğŸ“Š Enums                                                                 â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚                                                                          â”‚ â”‚
â”‚  â”‚  ClientArea:                                                            â”‚ â”‚
â”‚  â”‚    â”œâ”€ Inland = 0              â† Domestic (Austria)                    â”‚ â”‚
â”‚  â”‚    â”œâ”€ EU = 1                  â† European Union                        â”‚ â”‚
â”‚  â”‚    â””â”€ Drittland = 2           â† Third countries (non-EU)              â”‚ â”‚
â”‚  â”‚                                                                          â”‚ â”‚
â”‚  â”‚  InvoiceType: â˜… NEW                                                     â”‚ â”‚
â”‚  â”‚    â”œâ”€ Domestic = 0            â† Standard domestic (20% VAT)           â”‚ â”‚
â”‚  â”‚    â”œâ”€ Export = 1              â† Tax-free export (0%)                  â”‚ â”‚
â”‚  â”‚    â”œâ”€ IntraEUSale = 2         â† Intra-EU supply (0%)                  â”‚ â”‚
â”‚  â”‚    â”œâ”€ ReverseCharge = 3       â† Reverse charge (0%)                   â”‚ â”‚
â”‚  â”‚    â”œâ”€ SmallBusinessExemption = 4 â† Kleinunternehmer (0%)              â”‚ â”‚
â”‚  â”‚    â””â”€ TriangularTransaction = 5  â† DreiecksgeschÃ¤ft (0%)              â”‚ â”‚
â”‚  â”‚                                                                          â”‚ â”‚
â”‚  â”‚  PersonType:                                                            â”‚ â”‚
â”‚  â”‚    â”œâ”€ Client = 1                                                       â”‚ â”‚
â”‚  â”‚    â”œâ”€ Supplier = 2                                                     â”‚ â”‚
â”‚  â”‚    â””â”€ Both = 3                                                         â”‚ â”‚
â”‚  â”‚                                                                          â”‚ â”‚
â”‚  â”‚  AccountType:                                                           â”‚ â”‚
â”‚  â”‚    â”œâ”€ Asset, Liability, Equity, Revenue, Expense                      â”‚ â”‚
â”‚  â”‚                                                                          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ğŸ’¾ DATABASE LAYER (Persistence)                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ğŸ—„ï¸ Azure SQL Database / SQL Server                                     â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚                                                                          â”‚ â”‚
â”‚  â”‚ Tables (22 entities mapped):                                            â”‚ â”‚
â”‚  â”‚  â”œâ”€ Businesses                                                          â”‚ â”‚
â”‚  â”‚  â”œâ”€ AppUsers (ASP.NET Identity)                                         â”‚ â”‚
â”‚  â”‚  â”œâ”€ Clients                                                             â”‚ â”‚
â”‚  â”‚  â”œâ”€ Suppliers                                                           â”‚ â”‚
â”‚  â”‚  â”œâ”€ PersonenIndexEntries â˜…                                              â”‚ â”‚
â”‚  â”‚  â”œâ”€ Invoices                                                            â”‚ â”‚
â”‚  â”‚  â”œâ”€ InvoiceItems                                                        â”‚ â”‚
â”‚  â”‚  â”œâ”€ InvoiceDiscounts                                                    â”‚ â”‚
â”‚  â”‚  â”œâ”€ ExpenseInvoices                                                     â”‚ â”‚
â”‚  â”‚  â”œâ”€ ExpenseInvoiceItems                                                 â”‚ â”‚
â”‚  â”‚  â”œâ”€ Products                                                            â”‚ â”‚
â”‚  â”‚  â”œâ”€ Units                                                               â”‚ â”‚
â”‚  â”‚  â”œâ”€ Currencies                                                          â”‚ â”‚
â”‚  â”‚  â”œâ”€ TaxRates                                                            â”‚ â”‚
â”‚  â”‚  â”œâ”€ Taxes                                                               â”‚ â”‚
â”‚  â”‚  â”œâ”€ Accounts                                                            â”‚ â”‚
â”‚  â”‚  â”œâ”€ BankAccounts                                                        â”‚ â”‚
â”‚  â”‚  â”œâ”€ PaymentMethods                                                      â”‚ â”‚
â”‚  â”‚  â”œâ”€ Discounts                                                           â”‚ â”‚
â”‚  â”‚  â””â”€ Payments                                                            â”‚ â”‚
â”‚  â”‚                                                                          â”‚ â”‚
â”‚  â”‚ Key Relationships (Foreign Keys):                                       â”‚ â”‚
â”‚  â”‚  â€¢ Business 1â”€â”€Nâ†’ Clients, Suppliers, Invoices, etc. (Multi-tenancy)  â”‚ â”‚
â”‚  â”‚  â€¢ Client 1â”€â”€Nâ†’ Invoices                                               â”‚ â”‚
â”‚  â”‚  â€¢ Supplier 1â”€â”€Nâ†’ ExpenseInvoices                                      â”‚ â”‚
â”‚  â”‚  â€¢ Invoice 1â”€â”€Nâ†’ InvoiceItems                                          â”‚ â”‚
â”‚  â”‚  â€¢ PersonenIndexEntry 1â”€â”€Nâ†’ Invoices â˜… (Star Schema)                  â”‚ â”‚
â”‚  â”‚  â€¢ PersonenIndexEntry 1â”€â”€Nâ†’ ExpenseInvoices â˜… (Star Schema)           â”‚ â”‚
â”‚  â”‚  â€¢ Product Nâ”€â”€1â† TaxRate                                               â”‚ â”‚
â”‚  â”‚  â€¢ InvoiceItem Nâ”€â”€1â† Tax                                               â”‚ â”‚
â”‚  â”‚  â€¢ Tax Nâ”€â”€1â† Account                                                   â”‚ â”‚
â”‚  â”‚                                                                          â”‚ â”‚
â”‚  â”‚ Indexes:                                                                â”‚ â”‚
â”‚  â”‚  â€¢ IX_Clients_BusinessId                                               â”‚ â”‚
â”‚  â”‚  â€¢ IX_Clients_ClientCode                                               â”‚ â”‚
â”‚  â”‚  â€¢ IX_Clients_VatNumber                                                â”‚ â”‚
â”‚  â”‚  â€¢ IX_Invoices_InvoiceNumber                                           â”‚ â”‚
â”‚  â”‚  â€¢ IX_PersonenIndexEntries_BusinessId_Code â˜…                           â”‚ â”‚
â”‚  â”‚  â€¢ ... (optimized queries)                                             â”‚ â”‚
â”‚  â”‚                                                                          â”‚ â”‚
â”‚  â”‚ Migrations Applied: 28                                                  â”‚ â”‚
â”‚  â”‚  â€¢ Initial schema                                                       â”‚ â”‚
â”‚  â”‚  â€¢ PersonenIndex integration â˜…                                         â”‚ â”‚
â”‚  â”‚  â€¢ Austrian tax types â˜…                                                â”‚ â”‚
â”‚  â”‚  â€¢ BMD NTCS compatibility â˜…                                            â”‚ â”‚
â”‚  â”‚                                                                          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ DATA FLOW (CQRS Pattern)

### Example: Create Invoice

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. USER ACTION (Blazor Page)                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
    /AR/Invoices/Create.razor
    User fills form â†’ clicks "Save"
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. COMMAND DISPATCH (MediatR)                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
    var command = new CreateInvoiceCommand {
        ClientId = 1,
        InvoiceDate = DateTime.Now,
        Items = [...],
        InvoiceType = InvoiceType.Domestic
    };

    var result = await Mediator.Send(command);
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. PIPELINE BEHAVIOURS (Validation â†’ Logging â†’ Performance)                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
    âœ… ValidationBehaviour
       â”œâ”€ FluentValidation rules
       â””â”€ Throw ValidationException if invalid
                              â†“
    ğŸ“‹ LoggingBehaviour
       â””â”€ Log request details
                              â†“
    â±ï¸ PerformanceBehaviour
       â””â”€ Monitor execution time
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. COMMAND HANDLER (Business Logic)                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
    CreateInvoiceCommandHandler.Handle()
    {
        1. Get Client from repository
        2. Calculate tax (AustrianTaxEngine â˜…)
        3. Generate invoice number
        4. Create Invoice entity
        5. Add InvoiceItems
        6. Save via UnitOfWork
        7. Return Result<int> (invoice ID)
    }
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5. DATA ACCESS (Repository + UnitOfWork)                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
    await _unitOfWork.Invoices.AddAsync(invoice);
    await _unitOfWork.SaveChangesAsync();
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 6. DATABASE (EF Core)                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
    INSERT INTO Invoices (...) VALUES (...);
    INSERT INTO InvoiceItems (...) VALUES (...);
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 7. RESPONSE                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
    Result<int> { IsSuccess = true, Value = 123 }
                              â†“
    Blazor page navigates to /AR/Invoices/Details/123
```

---

## ğŸŒŸ KEY ARCHITECTURAL PATTERNS

### 1. **Clean Architecture**
```
Presentation â†’ Application â†’ Domain â† Infrastructure
     â†“              â†“           â†“            â†“
   Blazor        CQRS       Entities      EF Core
   Razor Pages   MediatR    Enums         Repos
   Controllers   DTOs       Interfaces    Services
```

### 2. **CQRS (Command Query Responsibility Segregation)**
```
Commands (Write)           Queries (Read)
     â†“                          â†“
CreateInvoiceCommand       GetAllInvoicesQuery
UpdateClientCommand        GetClientByIdQuery
DeleteProductCommand       GetProductsQuery
     â†“                          â†“
  Handler                    Handler
     â†“                          â†“
  Database                   Database
```

### 3. **Repository + Unit of Work**
```
IUnitOfWork
  â”œâ”€ IRepository<Client>
  â”œâ”€ IRepository<Invoice>
  â”œâ”€ IRepository<Supplier>
  â””â”€ SaveChangesAsync() â† Transaction boundary
```

### 4. **Star Schema (PersonenIndex)**
```
         PersonenIndexEntry (Center)
                  â”ƒ
        â”â”â”â”â”â”â”â”â”â”â•‹â”â”â”â”â”â”â”â”â”â”“
        â†“                    â†“
  AR (Invoices)       ER (ExpenseInvoices)
```

### 5. **Dependency Injection**
```
Program.cs registers:
  â”œâ”€ AddApplication()      â†’ MediatR, AutoMapper, FluentValidation
  â”œâ”€ AddInfrastructure()   â†’ DbContext, Repositories, Services
  â”œâ”€ AddAI()               â†’ AI Services (Encoding, Mapping, Duplicates) â˜…
  â””â”€ AddIdentity()         â†’ ASP.NET Identity
```

---

## ğŸ”— EXTERNAL INTEGRATIONS

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸŒ VIES Service (EU VAT Validation)                                        â”‚
â”‚    URL: http://ec.europa.eu/taxation_customs/vies/services/checkVatService â”‚
â”‚    Method: ValidateVatAsync(countryCode, vatNumber)                        â”‚
â”‚    Used by: Client/Supplier creation/update                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“„ QuestPDF (PDF Generation)                                                â”‚
â”‚    Package: QuestPDF 2024.x                                                 â”‚
â”‚    Service: AustrianInvoicePdfService                                       â”‚
â”‚    Templates: 5 invoice types (Domestic, Export, IntraEU, RC, SmallBiz)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”¤ FuzzySharp (Fuzzy String Matching)                                       â”‚
â”‚    Package: FuzzySharp 2.0.2                                                â”‚
â”‚    Used by: AiColumnMappingService, AiDuplicateDetectionService            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š STATISTICS

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                        PROJECT METRICS                                 â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ Total Entities:              22                                        â•‘
â•‘ Total Projects:               7 (Core, Application, Infrastructure,   â•‘
â•‘                                  Web, API, AI, Shared)                 â•‘
â•‘ Total Migrations:            28                                        â•‘
â•‘ CQRS Modules:                 8 (Clients, Invoices, Products, etc.)   â•‘
â•‘ AI Services:                  3 (Encoding, Mapping, Duplicates) â˜…     â•‘
â•‘ External APIs:                2 (VIES, QuestPDF)                       â•‘
â•‘ Invoice Types:                5 (Austrian tax compliance) â˜…            â•‘
â•‘ Code Lines (approx.):    ~25,000                                       â•‘
â•‘ Completion:                 50% (Phase 1 Complete âœ…)                  â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## ğŸ¯ DEPLOYMENT ARCHITECTURE

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            â˜ï¸ AZURE CLOUD                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚  â”‚  Azure App Service   â”‚         â”‚  Azure SQL Database  â”‚                 â”‚
â”‚  â”‚  (Web + API)         â”‚â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                      â”‚                 â”‚
â”‚  â”‚                      â”‚         â”‚  - Multi-tenant      â”‚                 â”‚
â”‚  â”‚  - Auto-scaling      â”‚         â”‚  - Geo-replication   â”‚                 â”‚
â”‚  â”‚  - SSL/TLS           â”‚         â”‚  - Automated backups â”‚                 â”‚
â”‚  â”‚  - CI/CD (GitHub)    â”‚         â”‚  - Point-in-time     â”‚                 â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚    restore           â”‚                 â”‚
â”‚           â†“                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                   â”‚
â”‚  â”‚  Azure AD            â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚  â”‚  (Authentication)    â”‚         â”‚  Azure Key Vault     â”‚                 â”‚
â”‚  â”‚                      â”‚         â”‚  (Secrets)           â”‚                 â”‚
â”‚  â”‚  - SSO               â”‚         â”‚                      â”‚                 â”‚
â”‚  â”‚  - Multi-factor auth â”‚         â”‚  - Connection stringsâ”‚                 â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚  - API keys          â”‚                 â”‚
â”‚                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚  â”‚  Azure Blob Storage  â”‚         â”‚  Application Insightsâ”‚                 â”‚
â”‚  â”‚  (Documents/PDFs)    â”‚         â”‚  (Monitoring)        â”‚                 â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“š TECHNOLOGY STACK

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                       TECHNOLOGY STACK                                 â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ Framework:           .NET 8.0                                          â•‘
â•‘ Language:            C# 12                                             â•‘
â•‘ UI:                  Blazor Server (Interactive Server)                â•‘
â•‘ Database:            Azure SQL / SQL Server                            â•‘
â•‘ ORM:                 Entity Framework Core 8.0                         â•‘
â•‘ CQRS:                MediatR 12.x                                      â•‘
â•‘ Validation:          FluentValidation 11.x                             â•‘
â•‘ Mapping:             AutoMapper 12.x                                   â•‘
â•‘ PDF:                 QuestPDF 2024.x                                   â•‘
â•‘ AI:                  FuzzySharp 2.0.2 â˜…                                â•‘
â•‘ Authentication:      ASP.NET Core Identity                             â•‘
â•‘ Logging:             ILogger (built-in)                                â•‘
â•‘ DI Container:        Microsoft.Extensions.DependencyInjection          â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## ğŸš€ NEXT STEPS (Phase 2)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“‹ PHASE 2 PRIORITIES (Jan 29 - Feb 3)                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  1. â³ Document Management System (DMS)                                     â”‚
â”‚     â”œâ”€ File upload service                                                  â”‚
â”‚     â”œâ”€ PDF OCR integration                                                  â”‚
â”‚     â”œâ”€ Document storage (Azure Blob)                                        â”‚
â”‚     â””â”€ Invoice-document linking                                             â”‚
â”‚                                                                              â”‚
â”‚  2. â³ Legacy QIM Import (CSV â†’ Database)                                   â”‚
â”‚     â”œâ”€ Reverse BMD NTCS import                                              â”‚
â”‚     â”œâ”€ Steuercode â†’ InvoiceType mapping                                     â”‚
â”‚     â”œâ”€ Client auto-creation                                                 â”‚
â”‚     â””â”€ Historical data migration                                            â”‚
â”‚                                                                              â”‚
â”‚  3. â³ Multi-tenancy Improvements                                            â”‚
â”‚     â”œâ”€ Business switching UI                                                â”‚
â”‚     â”œâ”€ Data isolation enforcement                                           â”‚
â”‚     â””â”€ Tenant-specific settings                                             â”‚
â”‚                                                                              â”‚
â”‚  4. â³ Automated Testing                                                     â”‚
â”‚     â”œâ”€ Unit tests (Application layer)                                       â”‚
â”‚     â”œâ”€ Integration tests (Repositories)                                     â”‚
â”‚     â””â”€ E2E tests (Blazor pages)                                             â”‚
â”‚                                                                              â”‚
â”‚  5. â³ Performance Optimization                                              â”‚
â”‚     â”œâ”€ Redis caching                                                        â”‚
â”‚     â”œâ”€ Query optimization                                                   â”‚
â”‚     â””â”€ Lazy loading strategies                                              â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¾:** 29 ÑĞ½Ğ²Ğ°Ñ€Ñ 2026
**ĞĞ²Ñ‚Ğ¾Ñ€:** GitHub Copilot
**Ğ’ĞµÑ€ÑĞ¸Ñ:** 2.0
**Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ:** Phase 1 Complete âœ… (50% project completion)

---

Legend:
- âœ… = Implemented
- â˜… = New in this version
- â³ = Planned
- âŒ = Not implemented
